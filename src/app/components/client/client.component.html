<div class="container">
  <mat-card>
    <!-- Header -->
    <mat-card-header>
      <mat-card-title>Client Information</mat-card-title>
      <mat-card-subtitle>Enter details</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <form class="flex-container input-form" [formGroup]="clientForm" (ngSubmit)="onSubmit()">
        <!-- Name Form -->
        <mat-form-field floatLabel="never" hideRequiredMarker>
          <input
            matInput
            placeholder="Name"
            formControlName="name"
            type="text">
          <mat-error *ngIf="nameCtrl.invalid">Name is required</mat-error>
        </mat-form-field>

        <!-- Age Form -->
        <mat-form-field floatLabel="never" hideRequiredMarker>
          <input
            matInput
            placeholder="Age"
            formControlName="age"
            type="number">
          <mat-error *ngIf="ageCtrl.invalid">Age is required</mat-error>
        </mat-form-field>

        <!-- Weight Form -->
        <mat-form-field floatLabel="never" hideRequiredMarker>
          <input
            matInput
            placeholder="Weight"
            formControlName="weight"
            type="number">
          <mat-error *ngIf="weightCtrl.invalid">Weight is required</mat-error>
        </mat-form-field>

        <!-- Friends Form -->
        <ng-container formArrayName="friends" *ngFor="let friendCtrl of friendControls; index as i">
          <mat-form-field
            [formGroupName]="i.toString()"
            floatLabel="never"
            hideRequiredMarker>
            <input
              matInput
              placeholder="Friend name"
              formControlName="friend"
              type="text">
            <mat-error *ngIf="friendCtrls.invalid">Friend name is required</mat-error>
          </mat-form-field>
        </ng-container>

        <!-- Buttons -->
        <mat-card-actions>
          <button color="primary" mat-raised-button type="submit" [disabled]="clientForm.invalid">Save</button>
          <button color="warn" mat-raised-button type="button" (click)="resetPage()">Reset</button>
          <button color="accent" mat-raised-button type="button" (click)="addFriendField()">Add friend</button>
          <button mat-raised-button type="button" [disabled]="!hasFriends()" (click)="removeLastFriendField()">Remove last friend</button>
        </mat-card-actions>
      </form>
    </mat-card-content>
  </mat-card>
</div>
